---
layout: post
title: "8월 19일 화요일 TIL(Prompt Engineering, OpenAI API)"
date: 2025-08-19 18:00:00 +0900
categories: July_week8
---

# 8월 일 요일 TIL 작성

## 1. 학습 주제
- 프롬프트 엔지니어링
- OpenAI API
  - 챗봇 만들기
  - few-shot
- 네이버 클라우드 자기소개서, 면접 특강

## 2. 새롭게 알게된 점 / 핵심 개념 (가장 중요하다고 생각하는 개념)

### 프롬프트 엔지니어링
프롬프트 엔지니어링 : AI 언어 모델에게 원하는 결과를 얻기 위해서 입력(prompt)를 설계하는 기술, 구체적인 질문과 지시가 필요하다.

COT(chain-of-thought), 생각의 흐름을 요청 : AI 가 단계 별로 논리적인 사고를 할 수 있도록 유도, 문제를 작게 나누고 각각의 단위 별로 질문하기, 그 이후 답변을 바탕으로 다음 단위를 진행.

Few-shot prompt : 일관성 있는 답변을 얻기 위해서?

### 파이썬 가상 환경

 `python -m venv 환경이름` 으로 파이썬 자체 가상환경을 만들 수 있음

가상 환경을 통해서 라이브러리 간의 버전 문제를 해결할 수 있다. 또한 여러 버전을 사용해야할 때 상황에 맞춰서 사용 가능하다.

### Openai

`pip install openai==1.58.1` : openAI 활용 라이브러리

`pip install python-dotenv` : 키를 .env 파일을 만들어서 키 값을 숨기도록

통해서 패키지 설치

response에서 role=’assistant’ 부분 , chatgpt 가 실행한 결과?

few-shot을 통해서 질문에 대한 답변의 템플릿을 미리 주면, 그것에 맞춰서 답변할 수 있다. 또한 이전 질문에 대한 답변을 기억하는 것으로 문맥에 맞는 답변을 할 수 있다.

### multi-turn

```python
from openai import OpenAI
from dotenv import load_dotenv
import os

load_dotenv()
api_key = os.getenv('OPENAI_API_KEY')

client = OpenAI(api_key=api_key)

# 여러 번 질문과 답변을 진행
def get_ai_response(messages):
    response = client.chat.completions.create(
        model='gpt-5-mini', 
        messages=messages,
    )
    return response.choices[0].message.content

messages = [
    {'role' : 'system', 'content' : '너는 사용자를 도와주는 상담사야'}

]

while True:
    user_input = input('사용자 : ')
    
    if user_input == 'exit':
        break

    messages.append({'role' : 'user', 'content' : user_input})
    ai_response = get_ai_response(messages)
    print('AI : ', ai_response)

    messages.append({'role' : 'assistant', 'content' : ai_response}) # ai의 답변도 같이 저장, 그러면 다음 질문에서 이것을 기반으로 답변을 생성한다.
```

```python
 messages.append({'role' : 'assistant', 'content' : ai_response})
 ```
이 코드는 **과거의 채팅 기록을 저장하는 용도**에 더 가깝다. 이것을 **few-shot**이라고 부르기에는 조금 애매하지만, 사실 그 두 개념이 완전히 분리된 것은 아님.

#### 프롬프트와 컨텍스트 (GPT 생성)

대규모 언어 모델(LLM)은 기본적으로 **"프롬프트(Prompt)"**를 입력받아 다음 단어를 예측하며 답변을 생성합니다. 여기서 프롬프트는 단일 질문일 수도 있고, 대화의 전체 기록일 수도 있습니다.

1. **과거 채팅 기록 저장**:
    - 사용자가 제공한 코드는 대화의 모든 턴(`system`, `user`, `assistant`)을 `messages`라는 리스트에 계속해서 추가합니다.
    - 매번 새로운 질문을 할 때마다 이 전체 리스트를 모델에 전달하여 **이전 대화의 맥락(Context)**을 기억하게 만듭니다. 이는 장기적인 대화 흐름을 유지하는 데 필수적입니다.
    - 이는 특별한 기술이라기보다, API를 사용하여 챗봇을 구현하는 기본적인 방식입니다.
2. **Few-shot Learning (몇 가지 예시 학습)**:
    - **Few-shot Learning**은 "모델에게 소수의 예시를 직접 프롬프트에 포함시켜서 학습시키는 기법"입니다.
    - 이는 모델의 **내부 파라미터(가중치)**를 수정하는 것이 아니라, **프롬프트 내에서 모델에게 새로운 행동을 가르치는 방법**입니다.
    - 예를 들어, 번역기를 만들고 싶을 때, 프롬프트에 다음과 같이 예시를 넣어주는 것입니다.
        
        `Translate the following sentences into French.
        1. "Hello" -> "Bonjour"
        2. "Thank you" -> "Merci"
        3. "I love you" -> "Je t'aime"
        4. "What is your name?" ->`
        
    - 이 예시들을 통해 모델은 `4번` 문장을 어떻게 번역해야 하는지 맥락을 파악하고 답변을 생성합니다.

#### 결론

- **Few-shot은 기술/기법**을 의미하고, **과거 채팅 기록은 맥락을 유지하기 위한 데이터**를 의미합니다.
- 사용자의 코드는 **대화의 맥락을 유지하기 위해 과거 기록을 저장**하는 기본적인 방법입니다.
- 만약 이 `messages` 리스트 안에 시스템 메시지 외에 **특정 예시들을 의도적으로 넣어 모델의 행동을 제어**했다면, 그것은 `few-shot`의 개념에 해당한다고 볼 수 있습니다.

따라서 Few-shot은 특별히 새로운 것이 아니라, 대화 기록을 포함한 프롬프트 구성에 있어 모델의 행동을 원하는 방향으로 유도하는 한 가지 방법이라고 이해하는 것이 가장 정확합니다.


### 과제 : 간단한 챗봇과 few-shot 이해하기

목표 : 다이어트를 하는 사람들에게 음식의 칼로리와 언제 먹으면 좋은지, 어떤 영양분이 있는지 등을 알려주는 챗봇 만들기

다이어트에 추천하는 음식이라면 출력 형식에서 다이어트에 이 음식이 좋은 점, 건강에 좋은 점을 알려주고, 다이어트, 건강에 좋지 않은 음식이라면, 다이어트에 건강에 왜 안좋은지 알려주기

출력 형식 : 

- 다이어트 추천 : 다이어트에 추천하는지 / 혹은 안하는 지
- 칼로리 : 몇 칼로리인지
- 영양소 : 어떤 영양소가 있고, 몸의 어디에 좋은지 / 혹은 어떤 부분이 안 좋고, 어디에 안 좋은지
- 언제 먹으면 좋은지 : 아침 점심 중 언제 먹으면 좋은지 / 혹은 안 좋은 음식이라면 적어도 언제는 먹지 않아야 하는지,

### 네이버 클라우드 취업 강의

#### 뇌리에 박히게 할 컨셉 정하기

자기소개서에 너무 많은 것을 이야기하고, 전달하고자 하지 말자. 나의 컨셉, 내가 제일 강조하고 싶은 것을 작성하자. 그리고 그것은 그 직무에서 필요한 것이어야 하고, 직무에서 필요한 것 중 내가 잘하는 것을 강조하자.

1. 나만의 컨셉
2. 내 컨셉을 설득시키는 근거
3. 그것과 관련된 경험 정리 시 유의사항

구체적인 경험을 기반으로 나만의 장점? 을 적어라. 그러면 구체적인 경험이 필요하다. 그리고 그 과정을 매우 구체적으로 적어라. 

본론을 말하기 전에 서론을 적어라. 두괄식과는 다르다. 두괄식은 내가 말하고자 하는 주제를 처음에 한 문장으로 요약, 언급하는 것이고, 서론은 내가 말하고자 하는 사건? 경험의 배경, 어디서 무엇을 왜 했는가? 등에 대한 배경을 작성하는 것이다.

협업을 한다면 협업의 체계를 만들어라. 

그리고 면접을 할 때 비언어적 표현이 중요하다. → 이것은 어찌보면 인성? 그런 것과 비슷하다.

회사의 인재상 중요할까? → 그렇게 중요하지는 않다.. 그리고 면접에서는 실무자가 뽑는 경우가 많다. 그럼 실무자의 마음에 들어야한다. 결국 같이 일할 사람의 마음에 들어야 한다.

일을 잘 하는 것? 왜요? 라는 질문에 대답해야한다. 왜 그 직무를 맡았는지, 왜 그 기술을 썼는지, 왜 그 구조로 만들었는지, 왜 라는 것을 항상 생각해라.

현직자에게 제발 DM을 보내고 커피챗을 신청해봐라. 링크드인, 코멘토. 현업자의 이야기를 들어봐라. 그리고 그 회사, 그 직무가 어떤 것을 하는지 파악해봐라.

면접이 처음인 경우 어떻게 해야할까? 어떻게 면접 준비를 해야할까.

1. 핵심 기본 질문 바탕 내용 정리 : 족보 같은 것은 없다.. 그러나 나의 스토리에 대해서 핵심적인 것들에 대해서 어떤 질문이 나올지를 생각해봐라. 그리고 핵심적인 요소들, 도전, 성공, 협업 등 이런 키워드들에 대해서 나의 경험, 나의 이야기를 생각해봐라.
2. 정리된 내용을 나만의 언어로 연습 : 대답을 외우지 마라. 내용을 정리하고 나의 언어로 표현하라. 유튜브에 나오는 수치화 그런것을 너무 억지로 적용하려고 하지 마라. 나의 내용에 대해서 스토리라인만 가지고 가자.
3. 실전 모의면접(꼬리/돌발/압박 대비)
4. 비언어적 요소 고려

## 3. 문제 해결 경험 (학습과정에서 직면했던 문제와 에러, 이를 어떻게 해결했는가)


## 4. 참고 코드 / 예시


## 5. 참고자료 / 링크


## 6. 느낀 점 / 회고 
OpenAI API를 이용해서 간단하게 챗봇을 만들어 보았는데, 코드가 어렵지 않으면서 결과물을 볼 수 있어서 매우 흥미로웠다. 또한 간단한 코드를 통해서 지금 진행하고 있는 프로젝트에 챗봇을 넣을 수 있을 것 같아서 더욱 흥미가 생겼다.

네이버 클라우드 취준 특강은, 자기소개서와 면접을 어떻게 준비할지에 대한 것이었다. 한 줄로 요약하자면, 구체적인 경험을 바탕으로 남들이 하라고 하는 방식이 아닌 나의 말로 나의 경험을 정리하는 내용이었다.